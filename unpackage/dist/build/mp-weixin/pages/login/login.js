(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0843":function(n,o,t){},"18af":function(n,o,t){"use strict";t.r(o);var e=t("dc09"),i=t.n(e);for(var a in e)"default"!==a&&function(n){t.d(o,n,(function(){return e[n]}))}(a);o["default"]=i.a},"2a31":function(n,o,t){"use strict";(function(n){t("308d");e(t("66fd"));var o=e(t("9dab"));function e(n){return n&&n.__esModule?n:{default:n}}n(o.default)}).call(this,t("543d")["createPage"])},6404:function(n,o,t){"use strict";var e,i=function(){var n=this,o=n.$createElement;n._self._c},a=[];t.d(o,"b",(function(){return i})),t.d(o,"c",(function(){return a})),t.d(o,"a",(function(){return e}))},8261:function(n,o,t){"use strict";var e=t("0843"),i=t.n(e);i.a},"9dab":function(n,o,t){"use strict";t.r(o);var e=t("6404"),i=t("18af");for(var a in i)"default"!==a&&function(n){t.d(o,n,(function(){return i[n]}))}(a);t("8261");var c,u=t("f0c5"),s=Object(u["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],c);o["default"]=s.exports},dc09:function(n,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={data:function(){return{clientid:null,info:{},loading:!1,disable:""}},onLoad:function(n){console.log("login onload run..."),console.log(this);var o=decodeURIComponent(n.q);console.log(o);var t=o.indexOf("="),e=o.substr(t+1);this.clientid=e,this.info=this.$store.state},methods:{login:function(){var n=this;n.loading=!0,n.disable="disabled",wx.getSetting({success:function(o){console.log("res",o.authSetting["scope.userInfo"]),o.authSetting["scope.userInfo"]?n.loginDo():wx.authorize({scope:"scope.userInfo",success:function(){n.loginDo()},fail:function(){console.log("你没有授权")}})}}),console.log(n)},loginDo:function(){var n=this;wx.getUserInfo({success:function(o){n.info.nickName=o.userInfo.nickName,n.info.avatarUrl=o.userInfo.avatarUrl,wx.request({url:"https://admin.jiasu.zhifool.com/api/v1/weixin/micrologin",data:{openid:n.$store.state.openid,nickname:n.info.nickName,avatarurl:n.info.avatarUrl,clientid:n.clientid},header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(n){wx.showModal({title:"提示",content:n.data.Msg,showCancel:!1,success:function(n){n.confirm&&wx.redirectTo({url:"/pages/index/index"})}})}})}})}}};o.default=e}},[["2a31","common/runtime","common/vendor"]]]);